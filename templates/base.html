{% load static %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'blog/style.css' %}">
    <link rel="shortcut icon" href="{% static 'blog/logo.png' %}">

</head>

<body class="bg-light">

{% include 'partials/navbar.html' %}


<!-- Page content-->
<div class="container py-3">
    <div class="row">
        <!-- main -->
        <div class="col-lg-6 mt-3">
            {% include 'partials/messages.html' %}
            {% block content %}
            {% endblock %}
        </div>
        <!-- Side widgets-->
        <div class="col-lg-4">
            <!-- Search widget-->
            <div class="card mb-4">
                <div class="card-header text-capitalize">search</div>

                <form role="search">
                    <div class="card-body">
                        <div class="input-group">
                            <input
                                    autocomplete="false"
                                    class="form-control"
                                    type="search"
                                    placeholder="Enter search term..."
                                    name="title"
                                    value='{{ request.GET.title }}'
                                    aria-label="Enter search term..."
                                    aria-describedby="button-search">
                            <button class="btn btn-primary" type="submit">Go!</button>
                        </div>
                    </div>

                    <div class="container pb-4 mt-2">

                        {% block tags %}
                        {% endblock %}

                        <button type="submit" name="toggle_show" id="btn_toggle_show" class="btn btn-link" value="show_all">

                        </button>


                    </div>

                </form>

            </div>

            <!-- Side widget-->

            {% include 'partials/quick_access.html' %}


        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    {% block scripts %}
    {% endblock %}
    <script>


        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const toggleShow = urlParams.get('toggle_show')

        // console.log(showAll.toString())
        const btnToggleShow = document.getElementById('btn_toggle_show');


        const showLess = 'Show less'
        const showAll = 'Show all'
        btnToggleShow.innerText = showAll

        if (new URL(window.location.href).searchParams.has('toggle_show')) {
            if (toggleShow.toString() === 'show_all'){
                console.log('show more content')
            }

        }
        // if (){
        //     console.warn(toggleShow)
        //
        // }

        // if (btnToggleShow) {
        //
        //
        //     if (btnToggleShow.innerText === showLess) {
        //         btnToggleShow.innerText = showMore
        //     } else {
        //         btnToggleShow.innerText = showLess
        //
        //     }
        //     // btnShowAll.innerText = 'Show less'
        // } else {
        //     console.warn("no")
        // }
        // alert(queryString);
    </script>
</body>
</html>

